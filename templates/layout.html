<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Pacifico|Permanent+Marker|Roboto">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Baloo+Bhai">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fredericka+the+Great">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Orbitron">
    <link rel="stylesheet" href="/static/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/styles/app.css">

    <script src="/static/scripts/webcomponents.js"></script>
    <script type="module" src="/static/components/contas-view/contasview.js"></script>
    <script type="module" src="/static/components/conta-view/contaview.js"></script>
    <script type="module" src="/static/components/cartao-view/cartaoview.js"></script>
    <script type="module" src="/static/components/categorias-view/categoriasview.js"></script>
    <script type="module" src="/static/components/categoria-view/categoriaview.js"></script>
    <script type="module" src="/static/components/movimentos-view/movimentosview.js"></script>
    <script type="module" src="/static/components/movimento-view/movimentoview.js"></script>
    <script type="module" src="/static/components/consulta-categoria-view/consultacategoriaview.js"></script>
    {% block component %}
    {% endblock %}
    <title>MeCash</title>
  </head>
  <body>
<!--    <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light shadow">-->
    <nav class="navbar fixed-top navbar-expand-lg text-white navbar-dark bg-dark shadow" style="min-height: 56px;">
      <div class="container">
        <a class="navbar-brand f-permanent-marker" href="#">MeCash</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <a class="nav-link" href="javascript:void(0)" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <img src="/static/images/plus-circle-outline.svg" alt="adicionar">
                <img src="/static/images/menu-down.svg" alt="opções para adicionar">
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
<!--                <a class="dropdown-item" href="/movimento">Movimento</a>-->
                <a class="dropdown-item" data-toggle="modal" data-target=".modal-movimento" href="javascript:void(0);">Movimento</a>
                <a class="dropdown-item" data-toggle="modal" data-target=".modal-categoria" href="javascript:void(0);">Categoria</a>
                <a class="dropdown-item" data-toggle="modal" data-target=".modal-conta" href="javascript:void(0);">Conta</a>
                <a class="dropdown-item" data-toggle="modal" data-target=".modal-cartao" href="javascript:void(0);">Cartão</a>
<!--                <a class="dropdown-item" href="/categoria">Categoria</a>-->
<!--                <a class="dropdown-item" href="/conta">Conta</a>-->
              </div>
            </li>
          </ul>
          <form class="form-inline my-2 my-lg-0 mr-auto">
            {% if url_for(request.endpoint) == '/movimentos/' or url_for(request.endpoint) == '/contas/' or url_for(request.endpoint) == '/categorias/' %}
            <input class="form-control mr-sm-2 form-control-search"  {% if url_for(request.endpoint) != '/movimentos/' and url_for(request.endpoint) != '/contas/' and url_for(request.endpoint) != '/categorias/' %}readonly{% endif %} type="search" placeholder="Filtrar..." aria-label="Search">
            {% endif %}
          </form>
          <ul class="navbar-nav">
            <li class="nav-item {% if url_for(request.endpoint) == '/movimentos/' or url_for(request.endpoint) == '/movimento/' %}active{% endif %}">
              <a class="nav-link f-18" href="/movimentos">Movimentos <span class="sr-only">(current)</span></a>
            </li>
<!--            <li class="nav-item {% if url_for(request.endpoint) == '/contas' or url_for(request.endpoint) == '/conta/' %}active{% endif %}">-->
<!--              <a class="nav-link" href="/contas">Cartoes</a>-->
<!--            </li>-->
<!--            <li class="nav-item {% if url_for(request.endpoint) == '/categorias/' or url_for(request.endpoint) == '/categoria/' %}active{% endif %}">-->
<!--              <a class="nav-link f-18" href="/categorias">Categorias</a>-->
<!--            </li>-->
<!--            <li class="nav-item {% if url_for(request.endpoint) == '/contas/' or url_for(request.endpoint) == '/conta/' %}active{% endif %}">-->
<!--              <a class="nav-link f-18" href="/contas">Contas</a>-->
<!--            </li>-->
<!--            <li class="nav-item {% if url_for(request.endpoint) == '/contas' or url_for(request.endpoint) == '/conta/' %}active{% endif %}">-->
<!--              <a class="nav-link" href="/contas">Relatorios</a>-->
<!--            </li>-->

            <li class="nav-item dropdown">
              <a class="nav-link f-18" href="javascript:void(0)" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Relatórios<img style="margin-top:-4px" src="/static/images/menu-down.svg" alt="Relatórios"></a>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="/relatorio/por-categoria">Por Categorias</a>
              </div>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link f-18" href="javascript:void(0)" id="navbarUser" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">kllaudyo@gmail.com<img style="margin-top:-4px" src="/static/images/menu-down.svg" alt="opções configuração de usuários"></a>
              <div class="dropdown-menu" aria-labelledby="navbarUser">
                <a class="dropdown-item" href="/categorias">Categorias</a>
                <a class="dropdown-item" href="/contas">Contas</a>
                <a class="dropdown-item" href="#">Configurar</a>
                <a class="dropdown-item" href="#">Alterar Senha</a>
                <a class="dropdown-item" href="#">Sair</a>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container" style="margin-top:75px;">
    {% block body %}
    {% endblock %}
    </div>

    <div class="modal fade modal-movimento" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Movimento</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
            <form>
              <app-movimentoview
                id="0"
                historico=""
                valor=""
              ></app-movimentoview>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade modal-categoria" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" >Categoria</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
            <form>
              <app-categoriaview
                id="0"
                descricao=""
                tipo=""
              ></app-categoriaview>
            </form>
          </div>
        </div>
      </div>
    </div>

     <div class="modal fade modal-conta" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" >Conta</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
            <form>
              <app-contaview
                id="0"
                descricao=""
                valor=""
              ></app-contaview>
            </form>
          </div>
        </div>
      </div>
    </div>

     <div class="modal fade modal-cartao" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" >Cartão</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
            <form>
              <app-cartaoview
                id="0"
                descricao=""
                limite=""
                fechamento=""
                anuidade=""
              ></app-cartaoview>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="/static/jquery/jquery-3.2.1.slim.min.js"></script>
    <script src="/static/bootstrap/js/bootstrap.bundle.js"></script>
<!--    <script src="https://code.highcharts.com/highcharts.js"></script>-->
<!--    <script src="https://code.highcharts.com/highcharts-3d.js"></script>-->
<!--    <script src="https://code.highcharts.com/modules/exporting.js"></script>-->
<!--    <script src="https://code.highcharts.com/modules/export-data.js"></script>-->
    <script>
      document.addEventListener('DOMContentLoaded',function () {
        if(document.querySelector('input[type="search"]'))
          document.querySelector('input[type="search"]').addEventListener('keyup',function (e) {
            if(document.querySelector('app-movimentosview'))
              document.querySelector('app-movimentosview').setAttribute('search', e.target.value);
            if(document.querySelector('app-contasview'))
              document.querySelector('app-contasview').setAttribute('search', e.target.value);
            if(document.querySelector('app-categoriasview'))
              document.querySelector('app-categoriasview').setAttribute('search', e.target.value);
            if(document.querySelector('app-consulta-categoria'))
              document.querySelector('app-consulta-categoria').setAttribute('search', e.target.value);
          });
      })
    </script>
    {% block script %}
    {% endblock %}
  </body>
</html>